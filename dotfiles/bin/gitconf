#!/usr/bin/env bash
# local config for git

if [ ! -d "$PWD/.git" ]
then
    echo 'this is not an git project'
    exit 1
fi

USER_NAME=$1
QUNAR=`echo "Z3Vhbmd6aG91LmNoZW5AcXVuYXIuY29tCg==" | base64 -D -`
WORMPEX=`echo "Z3Vhbmd6aG91LmNoZW5Ad29ybXBleC5jb20K" | base64 -D -`
GITHUB=`echo "b29pc3NAcXEuY29tCg==" | base64 -D -`

git_config_list() {
    git config --list | grep user
}

if [ -n "$USER_NAME" ]
then
    if [ "$USER_NAME" == "qunar" ]
    then
        git config user.name guangzhou.chen
        git config user.email $QUNAR
        git_config_list
    elif [ "$USER_NAME" == "github" ]
    then
        git config user.name 年糕小豆汤
        git config user.email $GITHUB
        git_config_list
    elif [ "$USER_NAME" == "wormpex" ]
    then
        git config user.name 陈光宙
        git config user.email $WORMPEX
        git_config_list
    else
        echo "no match type"
    fi
else
    echo "need type to config"
fi
